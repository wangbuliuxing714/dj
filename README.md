# 岱宗文脉 - AI辅助小说创作平台

## 项目概述

岱宗文脉是一个基于 Flutter 开发的 AI 辅助小说创作平台，集成了多种 AI 模型（包括 Deepseek、Gemini Pro 等），为作者提供智能写作辅助功能。

## 核心功能

### 1. 实时编辑器
- **多栏协同创作模式**
  - 大纲导航栏：实时显示和管理章节大纲
  - 编辑区：支持实时编辑和自动保存
  - AI 顾问栏：提供实时写作建议和分析
- **自适应布局**
  - 大屏幕：三栏布局（大纲+编辑器+AI顾问）
  - 小屏幕：抽屉式导航+浮动按钮
- **编辑功能**
  - 字体大小调节
  - 撤销/重做
  - 自动保存
  - 字数统计
  - AI 辅助修改

### 2. AI 辅助功能
- **智能分析**
  - 情节连贯性分析
  - 人物塑造建议
  - 场景描写优化
  - 对话优化建议
  - 文风调整建议
- **实时建议**
  - 3秒延迟的实时内容分析
  - 60秒定期完整分析
  - 自定义问题咨询
- **AI 修改**
  - 选中文本智能优化
  - 支持自定义修改要求
  - 实时生成修改建议

### 3. 大纲管理
- **智能大纲生成**
  - 基于标题和类型生成
  - 支持多种小说类型
  - 可预览和编辑
  - 自动保存
- **大纲导航**
  - 章节快速切换
  - 章节状态显示
  - 支持章节重排序
  - 实时同步更新

### 4. 内容生成
- **章节生成**
  - 基于大纲智能生成
  - 保持情节连贯性
  - 避免内容重复
  - 支持多种写作风格
- **内容优化**
  - 智能润色
  - 情节扩展
  - 细节补充
  - 文风统一

### 5. 写作辅助
- **提示词系统**
  - 系统提示词
  - 类型提示词
  - 情节提示词
  - 自定义提示词
- **内容审查**
  - 敏感内容检测
  - 文风一致性检查
  - 情节逻辑检查
  - 错别字检查

## 技术特点

### 1. 架构设计
- 基于 GetX 状态管理
- 模块化设计
- 响应式编程
- 依赖注入

### 2. 性能优化
- 延迟加载
- 防抖设计
- 缓存机制
- 增量更新

### 3. 用户体验
- 实时响应
- 流畅动画
- 自适应布局
- 错误处理

### 4. AI 集成
- 多模型支持
- 流式响应
- 错误重试
- 并发控制

## 开发环境

- Flutter SDK: >=3.0.0 <4.0.0
- Dart SDK: >=3.0.0 <4.0.0
- GetX: ^4.6.6
- Hive: ^2.2.3

## 项目结构

```
lib/
├── bindings/       # 依赖注入绑定
├── config/         # 配置文件
├── controllers/    # 控制器
├── models/         # 数据模型
├── prompts/        # 提示词模板
├── screens/        # 页面
├── services/       # 服务
├── utils/          # 工具类
└── widgets/        # 组件
```

## 使用说明

1. **环境配置**
   - 安装 Flutter SDK
   - 配置 AI API Key
   - 运行 `flutter pub get`

2. **启动应用**
   ```bash
   flutter run
   ```

3. **基本使用流程**
   - 创建新小说
   - 生成大纲
   - 编辑章节
   - 使用 AI 辅助功能
   - 导出作品

## 注意事项

1. 首次使用需要配置 AI API Key
2. 建议定期保存内容
3. 大纲生成可能需要较长时间
4. 网络状态会影响 AI 功能使用

## 未来计划

1. 支持更多 AI 模型
2. 添加协同写作功能
3. 增加导出格式选项
4. 优化移动端体验
5. 添加数据分析功能
